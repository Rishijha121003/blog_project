{% extends 'blog/base.html' %}
{% load static %}
{% block content %}
{% load humanize %}

<link rel="stylesheet" href="{% static 'css/style.css' %}">

<!-- ğŸ”¥ Hero Section -->
<section class="ghost-hero">
  <span class="badge">ğŸš€ MyBlog 1.0</span>
  <h1>Create your space, <br> Share your story</h1>
  <p>
    Welcome to <strong>MyBlog</strong> â€” a place where your voice matters. 
    Write blog posts, share ideas, and connect with an audience that cares.
  </p>
  <a href="{% url 'create_post' %}" class="btn-primary">âœï¸ Start Writing</a>
</section> 

<!-- ğŸ”¥ Frequent Blogs Grid -->
<section>
  <h2 style="margin-bottom: 20px;">ğŸ“Œ Frequent Blogs</h2>
  
  {% if posts %}
  <div class="posts-grid">
    {% for post in posts %}
    <div class="blog-card">
      
      <!-- Author & Date -->
      <div class="article-metadata">
        <h2>BY {{ post.author.username }}</h2>
        <h5>{{ post.created_at|date:"F d, Y" }}</h5>
      </div>

      <!-- Title -->
      <a href="{% url 'post_detail' id=post.id %}"><h3>{{ post.title }}</h3></a>

      <!-- Image -->
      {% if post.image %}
        <img src="{{ post.image.url }}" alt="Blog Image" style="max-width: 400px;">
      {% endif %}

      <!-- Content -->
      <div class="post-content">
        {{ post.content|safe|truncatewords:20}}
        <p>Likes: {{ post.likes.count }} | Comments: {{ post.comments.count }}</p>
      </div>

      <!-- Read More Button -->
      <a href="{% url 'post_detail' id=post.id %}" class="btn btn-primary">Read More</a>

    </div>
    {% endfor %}
  </div>
  {% else %}
    <p>No posts found.</p>
  {% endif %}
</section>

{% endblock %}
